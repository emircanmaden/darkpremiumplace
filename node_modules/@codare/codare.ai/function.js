const fetch = require('node-fetch')

module.exports = {
ayarla: async function(id) {
return this.id = id
},
sor: async function(soru) {
if(!soru) throw 'Soru sorman gerekyior' 
const api = await fetch(`https://api.codare.fun/sor/${encodeURI(soru)}`)
    .then(response => response.json());
if(api.error) throw 'CodAre apisi ile bağlantı sağlanamadı' 
return api.cevap
},
sorv2: async function(soru) {
if(!soru) throw 'CodAre apisi ile bağlantı sağlanamadı' 
if(!this.id) throw 'CodAre apisi ile bağlantı sağlanamadı' 
    const api = await fetch(`https://api.codare.fun/sorv2/${this.id}?soru=${encodeURI(soru)}`)
        .then(response => response.json());
    if(api.error) throw 'CodAre apisi ile bağlantı sağlanamadı' 
    return api.cevap
    }
}
